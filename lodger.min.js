(function(a,g){function h(d,b,c){d=d.querySelectorAll('[name="'+b+'"]');for(b=0;b<d.length;b++){var a=d[b];switch(a.type){case "radio":a.checked=a.value===c;break;case "checkbox":a.checked=c;break;default:a.value=c}}}function k(a){var b={};Array.prototype.slice.call(a.elements).forEach(function(c){var a=c.name;"radio"===c.type?c.checked&&(b[a]=c.value):b[a]=c.checked||"checkbox"!==c.type?c.value:""});return b}var l=a.getElementById("file-input"),f=a.querySelector("form");l.addEventListener("change",
function(){var a=l.files[0];if(a.type.match(/.json$/)){var b=new FileReader;b.onload=function(){e=JSON.parse(b.result);for(var a in e)h(f,a,e[a])};b.readAsText(a)}else console.log("File not supported!")});a.getElementById("save").onclick=function(){var d="lodger-contract_"+(new Date).toISOString().substr(0,10)+".json",b=JSON.stringify(k(f));b=new File([b],d,{type:"application/json"});b=URL.createObjectURL(b);var c=a.createElement("a");c.type="file";c.href=b;c.download=d;a.body.appendChild(c);c.click();
a.body.removeChild(c)};a.getElementById("print").onclick=function(){window.print()};a.addEventListener("change",function(){g.a=JSON.stringify(k(f))});a.addEventListener("keypress",function(a){var b=a.target;"TEXTAREA"===b.nodeName&&setTimeout(function(){b.style.height="auto";b.style.height=b.scrollHeight+"px"},10)});var e={},m=g.a;if(m){e=JSON.parse(m);for(var n in e)h(f,n,e[n])}window.onload=function(){}})(document,localStorage);
